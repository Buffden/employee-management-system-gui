<div class="container" *ngIf="task && project">
  <!-- Breadcrumb Navigation -->
  <nav mat-tab-nav-bar>
    <a mat-tab-link routerLink="/projects">Projects</a>
    <a mat-tab-link [routerLink]="['/projects', project.id]">{{project.name}}</a>
    <a mat-tab-link [routerLink]="['/projects', project.id, 'tasks', task.id]" routerLinkActive="active">
      {{task.name}}
    </a>
  </nav>

  <!-- Task Overview -->
  <div class="task-overview">
    <div class="header">
      <h1>{{task.name}}</h1>
      <div class="actions">
        <button mat-raised-button color="primary" (click)="onEditTask()">
          <mat-icon>edit</mat-icon>
          Edit Task
        </button>
        <button mat-raised-button color="warn" (click)="onDeleteTask()">
          <mat-icon>delete</mat-icon>
          Delete Task
        </button>
      </div>
    </div>

    <div class="task-details">
      <div class="detail-row">
        <div class="detail-item">
          <h3>Status</h3>
          <mat-chip [color]="getStatusColor(task.status)" selected>
            {{task.status}}
          </mat-chip>
        </div>
        <div class="detail-item">
          <h3>Priority</h3>
          <mat-chip [color]="getPriorityColor(task.priority)" selected>
            {{task.priority}}
          </mat-chip>
        </div>
        <div class="detail-item">
          <h3>Assigned To</h3>
          <p>{{task.assignedTo?.firstName}} {{task.assignedTo?.lastName}}</p>
        </div>
      </div>

      <div class="detail-row">
        <div class="detail-item">
          <h3>Start Date</h3>
          <p>{{task.startDate | date}}</p>
        </div>
        <div class="detail-item">
          <h3>Due Date</h3>
          <p>{{task.dueDate | date}}</p>
        </div>
        <div class="detail-item">
          <h3>Completed Date</h3>
          <p>{{ task.completedDate ? (task.completedDate | date) : 'Not completed' }}</p>
        </div>
      </div>

      <div class="description">
        <h3>Description</h3>
        <p>{{task.description}}</p>
      </div>
    </div>
  </div>
</div> 